# Описание проекта

## Структура : 
> ### /src
> > #### /entity
> > > ##### Book.py - модуль с описанным доменным объектом Book
> > #### /interface
> > > ##### Interface.py - модуль для предоставления UI для взаимодействия со всем приложением
> > #### /repositories
> > > ##### AbstractRepository.py - модуль описывающий интерфейс для работы с репозиторием и все его операции
> > > ##### BookRepository.py - модуль в котором описана реализация репозитория
> > #### /storage - Директория в которой будет создаваться json файл для хранения информации, директория пуста до старта приложения
> > #### /use_cases
> > > ##### UseCase.py - Бизнес-логика прииложения
> ### /tests
> > #### test_entity.py - юнит-тестирование модуля Book.py
> > #### test_repository.py - юнит-тестирвоание модуля BookRepositroy
> > #### test_usecase.py - юнит-тестирование модуля UseCase

# Описание функционала
#### Book.py - Класс Book моделирует сущность книги с атрибутами book_id, title, author, year и status, а также включает метод для строкового представления объекта в удобном формате.
#### Interface.py -
1. Инициализировать путь к файлу и репозиторий.
2. Инициализировать бизнес-логику.
3. Ввести бесконечный цикл для отображения меню.
4. В зависимости от выбора пользователя:
    - Добавить книгу.
    - Удалить книгу.
    - Показать все книги.
    - Найти книгу.
    - Изменить статус книги.
    - Выйти из программы.
5. Повторить меню, если введен неверный выбор.
6. Прервать цикл при выходе.

#### AbstractRepository.py - 
1. Определить абстрактный базовый класс `BookRepositoryInterface` с методами для работы с книгами:
   
    1.1. Метод `add_book(book: Book)`:
        - Принимает объект книги.
        - Добавляет книгу в репозиторий.
        - Не возвращает значения.
   
    1.2. Метод `delete_book(book_id: int)`:
        - Принимает уникальный идентификатор книги.
        - Удаляет книгу из репозитория.
        - Возвращает `True`, если книга была удалена, или `False`, если книга не найдена.
   
    1.3. Метод `find_book(book_author: str, book_id: int, book_year: str)`:
        - Принимает параметры поиска книги (автор, идентификатор или год выпуска).
        - Возвращает книгу, если она найдена.
        - Генерирует исключение, если книга не найдена.
   
    1.4. Метод `change_status(book_id: int)`:
        - Принимает уникальный идентификатор книги.
        - Изменяет статус книги (например, "В наличии" на "Отдана" или наоборот).
        - Не возвращает значений.
   
    1.5. Метод `get_all_books()`:
        - Возвращает список всех книг, хранящихся в репозитории.


#### BookRepository.py - 
1. Инициализация репозитория:
    1.1. Принять путь к JSON файлу с данными о книгах.
    1.2. Загрузить книги из файла при инициализации, используя метод _load_books.
    1.3. Если файл не найден, инициализировать пустой список книг.
    
2. Определение методов для работы с книгами:
    2.1. Метод `_load_books`:
        - Загрузить книги из JSON файла в список.
        - Если файл не найден, создать пустой список книг.
    
    2.2. Метод `_save_books`:
        - Сохранить все книги в JSON файл, сериализуя данные книг в формат JSON.
    
    2.3. Метод `add_book(book: Book)`:
        - Проверить год книги (должен быть 4 цифры).
        - Если книга с таким ID уже существует, вызвать ошибку.
        - Добавить книгу в список и сохранить изменения в файл.
    
    2.4. Метод `delete_book(book_id: int)`:
        - Найти книгу по ID и удалить её из списка.
        - Если книга найдена, сохранить изменения в файл и вернуть `True`.
        - Если книга не найдена, вернуть `False`.
    
    2.5. Метод `change_status(book_id: int)`:
        - Найти книгу по ID и изменить её статус (если книга в наличии, сделать её отданной, иначе вернуть в наличие).
        - Если книга найдена, вернуть `True` после изменения статуса.
        - Если книга не найдена, вернуть `False`.
    
    2.6. Метод `find_book(book_author: str | None, book_title: str | None, book_year: str | None)`:
        - Поиск книги по автору, названию или году выпуска.
        - Если книга найдена, вернуть её.
        - Если книга не найдена, вызвать исключение `NotFoundErr`.
    
    2.7. Метод `get_all_books()`:
        - Вернуть список всех книг, хранящихся в репозитории.
##### UseCase.py - 
1. Инициализация бизнес-логики:
    1.1. Принять репозиторий, который реализует интерфейс `BookRepositoryInterface`.
    1.2. Сохранить репозиторий как атрибут класса для использования в методах.

2. Определение методов для работы с книгами:
    2.1. Метод `add_book(book_id: int, title: str, author: str, year: str)`:
        - Создать новый объект книги с заданными параметрами.
        - Вызвать метод `add_book` репозитория для добавления книги в хранилище.
    
    2.2. Метод `find_book(book_author: str | None, book_id: int | None, book_year: str | None)`:
        - Вызвать метод `find_book` репозитория для поиска книги по автору, ID или году выпуска.
        - Вернуть найденную книгу.
    
    2.3. Метод `delete_book(book_id: int)`:
        - Вызвать метод `delete_book` репозитория для удаления книги по заданному ID.
        - Вернуть результат операции (успех или неудача).

    2.4. Метод `change_status(book_id: int)`:
        - Вызвать метод `change_status` репозитория для изменения статуса книги по заданному ID.
   






